<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reclamos Pendientes - Dashboard Técnicos</title>
    <style>body{font-family:Arial,sans-serif;margin:20px;background-color:#f5f5f5}.header{background-color:#d32f2f;color:white;padding:20px;border-radius:8px;margin-bottom:20px}.reclamo{background:white;margin:10px 0;padding:15px;border-radius:8px;box-shadow:0 2px 4px rgba(0,0,0,0.1);border-left:5px solid #ff5722;position:relative}.reclamo.completado{opacity:0.6;border-left-color:#4caf50}.titulo{color:#d32f2f;font-size:18px;font-weight:bold}.info{margin:5px 0}.telefono{font-size:18px;font-weight:bold;color:#1976d2}.direccion{color:#666}.problema{background-color:#ffebee;padding:8px;border-radius:4px;margin:8px 0}.footer{text-align:center;margin-top:30px;color:#666;font-size:12px}.botones{margin-top:15px;display:flex;gap:10px;flex-wrap:wrap}.btn{padding:10px 20px;border:none;border-radius:5px;cursor:pointer;font-weight:bold;transition:all 0.3s}.btn-completar{background-color:#4caf50;color:white}.btn-completar:hover{background-color:#45a049}.btn-pendiente{background-color:#ff9800;color:white}.btn-pendiente:hover{background-color:#e68900}.trabajo-realizado{background-color:#e8f5e9;padding:10px;border-radius:5px;margin-top:10px;border-left:3px solid #4caf50}.trabajo-realizado strong{color:#2e7d32}.form-trabajo{margin-top:10px;padding:10px;background-color:#f5f5f5;border-radius:5px;display:none}.form-trabajo.visible{display:block}.form-trabajo input,.form-trabajo textarea{width:100%;padding:8px;margin:5px 0;border:1px solid #ddd;border-radius:4px;box-sizing:border-box}.form-trabajo button{margin-top:5px}.btn-small{padding:5px 10px;font-size:12px}.estado-badge{display:inline-block;padding:5px 10px;border-radius:15px;font-size:12px;font-weight:bold;margin-left:10px}.estado-pendiente{background-color:#fff3cd;color:#856404}.estado-completado{background-color:#d4edda;color:#155724}@media (max-width:768px){body{margin:10px}}</style>
</head>
<body>
    <div class="header">
        <h1>🚨 Reclamos Pendientes - Nodosoft</h1>
        <p>Última actualización: 24/10/2025 14:01:07</p>
        <p style="margin: 5px 0;"><strong>Total: <span id="totalPendientes">10</span> reclamos pendientes</strong></p>
    </div>

    <div class="reclamo" data-orden="00036450" style="border-left-color: #4caf50;">
        <div class="titulo">
            Orden: 00036450
            <span class="estado-badge estado-pendiente">Pendiente</span>
        </div>
        <div class="info"><strong>📅 Fecha:</strong> 2025-10-08 19:55:09</div>
        <div class="info"><strong>👨‍💼 Operador:</strong> Alejandra</div>
        <div class="info"><strong>👤 Cliente:</strong> ARANA CAROLINA</div>
        <div class="direccion"><strong>📍 Dirección:</strong> BARRIO PLAN FEDERAL 19 V. CASA 8</div>
        <div class="telefono">📞 02396-1543-8749</div>
        <div class="problema"><strong>🔧 Problema:</strong> Otros Motivos</div>
        <div class="info"><strong>📝 Detalle:</strong> SE LE CORTA TODO EL TIEMPO, NO LE CONECTA YOUTUBE, NO TIENE APP DE CANALES</div>
        <div class="info"><strong>📋 Observaciones:</strong> Sin observaciones</div>
        <div style="background-color: #e3f2fd; padding: 10px; border-radius: 4px; margin: 8px 0;">
            <div class="info"><strong>🌐 IP Cliente:</strong> 192.168.106.202</div>
            <div class="info"><strong>🗼 Conectado a:</strong> Fibra Optica VLAN700</div>
            <div class="info"><strong>📦 Equipo:</strong> Onu Huawei EG-8021V5 Wi-Fi Dual Band</div>
            <div class="info"><strong>💰 Plan:</strong> $18000.0</div>
            <div class="info"><strong>📡 Caja:</strong> T02 | F32 | C05 | P2</div>
        </div>
        <div class="trabajo-container"></div>
        <div class="botones">
            <button class="btn btn-completar" onclick="mostrarFormulario('00036450')">✅ Marcar como Realizado</button>
        </div>
        <div class="form-trabajo" id="form-00036450">
            <input type="text" placeholder="Tu nombre" id="tecnico-00036450">
            <textarea placeholder="Describe el trabajo realizado..." rows="3" id="descripcion-00036450"></textarea>
            <button class="btn btn-completar btn-small" onclick="guardarTrabajo('00036450')">Guardar</button>
            <button class="btn btn-pendiente btn-small" onclick="ocultarFormulario('00036450')">Cancelar</button>
        </div>
    </div>

    <div class="reclamo" data-orden="00036465" style="border-left-color: #4caf50;">
        <div class="titulo">
            Orden: 00036465
            <span class="estado-badge estado-pendiente">Pendiente</span>
        </div>
        <div class="info"><strong>📅 Fecha:</strong> 2025-10-13 09:35:44</div>
        <div class="info"><strong>👨‍💼 Operador:</strong> Cintia</div>
        <div class="info"><strong>👤 Cliente:</strong> NOGUEIRA MARIA DE LOS ANGELES</div>
        <div class="direccion"><strong>📍 Dirección:</strong> LAVALLE 834 (BARRIO ESPERANZA)</div>
        <div class="telefono">📞 02395-1543-1970</div>
        <div class="problema"><strong>🔧 Problema:</strong> Otros Motivos</div>
        <div class="info"><strong>📝 Detalle:</strong> PUSO CAMARAS SE LE CORTA CONSTANTEMENTE , COMPRO UN REPETIDOR NO FUNCIONA</div>
        <div class="info"><strong>📋 Observaciones:</strong> Sin observaciones</div>
        <div style="background-color: #e3f2fd; padding: 10px; border-radius: 4px; margin: 8px 0;">
            <div class="info"><strong>🌐 IP Cliente:</strong> 192.168.245.090</div>
            <div class="info"><strong>🗼 Conectado a:</strong> Germano</div>
            <div class="info"><strong>📦 Equipo:</strong> Nanostation Loco AC</div>
            <div class="info"><strong>💰 Plan:</strong> $18000.0</div>
            
        </div>
        <div class="trabajo-container"></div>
        <div class="botones">
            <button class="btn btn-completar" onclick="mostrarFormulario('00036465')">✅ Marcar como Realizado</button>
        </div>
        <div class="form-trabajo" id="form-00036465">
            <input type="text" placeholder="Tu nombre" id="tecnico-00036465">
            <textarea placeholder="Describe el trabajo realizado..." rows="3" id="descripcion-00036465"></textarea>
            <button class="btn btn-completar btn-small" onclick="guardarTrabajo('00036465')">Guardar</button>
            <button class="btn btn-pendiente btn-small" onclick="ocultarFormulario('00036465')">Cancelar</button>
        </div>
    </div>

    <div class="reclamo" data-orden="00036466" style="border-left-color: #4caf50;">
        <div class="titulo">
            Orden: 00036466
            <span class="estado-badge estado-pendiente">Pendiente</span>
        </div>
        <div class="info"><strong>📅 Fecha:</strong> 2025-10-13 10:18:22</div>
        <div class="info"><strong>👨‍💼 Operador:</strong> Cintia</div>
        <div class="info"><strong>👤 Cliente:</strong> SUAREZ SILVINA SOLEDAD</div>
        <div class="direccion"><strong>📍 Dirección:</strong> PAPA FRANCISCO 728</div>
        <div class="telefono">📞 02395-1540-0208</div>
        <div class="problema"><strong>🔧 Problema:</strong> Otros Motivos</div>
        <div class="info"><strong>📝 Detalle:</strong> CORTES CONSTANTEMENTE, CAMBIO EL ROUTER CAMBIO ABONO SIGUE SIN FUNCIONAR .</div>
        <div class="info"><strong>📋 Observaciones:</strong> Sin observaciones</div>
        <div style="background-color: #e3f2fd; padding: 10px; border-radius: 4px; margin: 8px 0;">
            <div class="info"><strong>🌐 IP Cliente:</strong> 192.168.222.070</div>
            <div class="info"><strong>🗼 Conectado a:</strong> Evangelista</div>
            <div class="info"><strong>📦 Equipo:</strong> Nanostation Loco AC</div>
            <div class="info"><strong>💰 Plan:</strong> $18000.0</div>
            
        </div>
        <div class="trabajo-container"></div>
        <div class="botones">
            <button class="btn btn-completar" onclick="mostrarFormulario('00036466')">✅ Marcar como Realizado</button>
        </div>
        <div class="form-trabajo" id="form-00036466">
            <input type="text" placeholder="Tu nombre" id="tecnico-00036466">
            <textarea placeholder="Describe el trabajo realizado..." rows="3" id="descripcion-00036466"></textarea>
            <button class="btn btn-completar btn-small" onclick="guardarTrabajo('00036466')">Guardar</button>
            <button class="btn btn-pendiente btn-small" onclick="ocultarFormulario('00036466')">Cancelar</button>
        </div>
    </div>

    <div class="reclamo" data-orden="00036497" style="border-left-color: #4caf50;">
        <div class="titulo">
            Orden: 00036497
            <span class="estado-badge estado-pendiente">Pendiente</span>
        </div>
        <div class="info"><strong>📅 Fecha:</strong> 2025-10-15 20:29:53</div>
        <div class="info"><strong>👨‍💼 Operador:</strong> Alejandra</div>
        <div class="info"><strong>👤 Cliente:</strong> FERLINI MARTIN</div>
        <div class="direccion"><strong>📍 Dirección:</strong> SANTO TOMAS - CAMPO SANTA ANA</div>
        <div class="telefono">📞 011-15-5424-9772</div>
        <div class="problema"><strong>🔧 Problema:</strong> Sin Conexion</div>
        <div class="info"><strong>📝 Detalle:</strong> SIN CONEXION</div>
        <div class="info"><strong>📋 Observaciones:</strong> Sin observaciones</div>
        <div style="background-color: #e3f2fd; padding: 10px; border-radius: 4px; margin: 8px 0;">
            <div class="info"><strong>🌐 IP Cliente:</strong> 192.168.220.024</div>
            <div class="info"><strong>🗼 Conectado a:</strong> Santo Tomas</div>
            <div class="info"><strong>📦 Equipo:</strong> LiteBeam M5</div>
            <div class="info"><strong>💰 Plan:</strong> $31000.0</div>
            
        </div>
        <div class="trabajo-container"></div>
        <div class="botones">
            <button class="btn btn-completar" onclick="mostrarFormulario('00036497')">✅ Marcar como Realizado</button>
        </div>
        <div class="form-trabajo" id="form-00036497">
            <input type="text" placeholder="Tu nombre" id="tecnico-00036497">
            <textarea placeholder="Describe el trabajo realizado..." rows="3" id="descripcion-00036497"></textarea>
            <button class="btn btn-completar btn-small" onclick="guardarTrabajo('00036497')">Guardar</button>
            <button class="btn btn-pendiente btn-small" onclick="ocultarFormulario('00036497')">Cancelar</button>
        </div>
    </div>

    <div class="reclamo" data-orden="00036518" style="border-left-color: #4caf50;">
        <div class="titulo">
            Orden: 00036518
            <span class="estado-badge estado-pendiente">Pendiente</span>
        </div>
        <div class="info"><strong>📅 Fecha:</strong> 2025-10-22 10:48:09</div>
        <div class="info"><strong>👨‍💼 Operador:</strong> Cintia</div>
        <div class="info"><strong>👤 Cliente:</strong> DEMARCHI OSCAR (CASA)</div>
        <div class="direccion"><strong>📍 Dirección:</strong> DORREGO 515</div>
        <div class="telefono">📞 02395450330011-15-6758-472</div>
        <div class="problema"><strong>🔧 Problema:</strong> Sin Conexion</div>
        <div class="info"><strong>📝 Detalle:</strong> SIN CONEXION</div>
        <div class="info"><strong>📋 Observaciones:</strong> Sin observaciones</div>
        <div style="background-color: #e3f2fd; padding: 10px; border-radius: 4px; margin: 8px 0;">
            <div class="info"><strong>🌐 IP Cliente:</strong> 192.168.248.026</div>
            <div class="info"><strong>🗼 Conectado a:</strong> Bomberos</div>
            <div class="info"><strong>📦 Equipo:</strong> Nanostation Loco M5</div>
            <div class="info"><strong>💰 Plan:</strong> $16000.0</div>
            
        </div>
        <div class="trabajo-container"></div>
        <div class="botones">
            <button class="btn btn-completar" onclick="mostrarFormulario('00036518')">✅ Marcar como Realizado</button>
        </div>
        <div class="form-trabajo" id="form-00036518">
            <input type="text" placeholder="Tu nombre" id="tecnico-00036518">
            <textarea placeholder="Describe el trabajo realizado..." rows="3" id="descripcion-00036518"></textarea>
            <button class="btn btn-completar btn-small" onclick="guardarTrabajo('00036518')">Guardar</button>
            <button class="btn btn-pendiente btn-small" onclick="ocultarFormulario('00036518')">Cancelar</button>
        </div>
    </div>

    <div class="reclamo" data-orden="00036520" style="border-left-color: #4caf50;">
        <div class="titulo">
            Orden: 00036520
            <span class="estado-badge estado-pendiente">Pendiente</span>
        </div>
        <div class="info"><strong>📅 Fecha:</strong> 2025-10-23 11:15:39</div>
        <div class="info"><strong>👨‍💼 Operador:</strong> Cintia</div>
        <div class="info"><strong>👤 Cliente:</strong> AGUILERA ELISABET</div>
        <div class="direccion"><strong>📍 Dirección:</strong> GUIDO 454</div>
        <div class="telefono">📞 02395-1547-0036</div>
        <div class="problema"><strong>🔧 Problema:</strong> Otros Motivos</div>
        <div class="info"><strong>📝 Detalle:</strong> SE CORTAN CONSTANTEMENTE LAS APLICACIONES</div>
        <div class="info"><strong>📋 Observaciones:</strong> Sin observaciones</div>
        <div style="background-color: #e3f2fd; padding: 10px; border-radius: 4px; margin: 8px 0;">
            <div class="info"><strong>🌐 IP Cliente:</strong> 192.168.102.159</div>
            <div class="info"><strong>🗼 Conectado a:</strong> Fibra Optica VLAN700</div>
            <div class="info"><strong>📦 Equipo:</strong> Onu Huawei HG-8546M Wi-Fi</div>
            <div class="info"><strong>💰 Plan:</strong> $18000.0</div>
            <div class="info"><strong>📡 Caja:</strong> T03 | F30 | C02 | P2</div>
        </div>
        <div class="trabajo-container"></div>
        <div class="botones">
            <button class="btn btn-completar" onclick="mostrarFormulario('00036520')">✅ Marcar como Realizado</button>
        </div>
        <div class="form-trabajo" id="form-00036520">
            <input type="text" placeholder="Tu nombre" id="tecnico-00036520">
            <textarea placeholder="Describe el trabajo realizado..." rows="3" id="descripcion-00036520"></textarea>
            <button class="btn btn-completar btn-small" onclick="guardarTrabajo('00036520')">Guardar</button>
            <button class="btn btn-pendiente btn-small" onclick="ocultarFormulario('00036520')">Cancelar</button>
        </div>
    </div>

    <div class="reclamo" data-orden="00036521" style="border-left-color: #4caf50;">
        <div class="titulo">
            Orden: 00036521
            <span class="estado-badge estado-pendiente">Pendiente</span>
        </div>
        <div class="info"><strong>📅 Fecha:</strong> 2025-10-23 15:55:45</div>
        <div class="info"><strong>👨‍💼 Operador:</strong> Cintia</div>
        <div class="info"><strong>👤 Cliente:</strong> CABALCAGARAY CECILIA</div>
        <div class="direccion"><strong>📍 Dirección:</strong> CHUBUT 635</div>
        <div class="telefono">📞 02395-1540-3682</div>
        <div class="problema"><strong>🔧 Problema:</strong> Drop cortado</div>
        <div class="info"><strong>📝 Detalle:</strong> DROP CORTADO</div>
        <div class="info"><strong>📋 Observaciones:</strong> Sin observaciones</div>
        <div style="background-color: #e3f2fd; padding: 10px; border-radius: 4px; margin: 8px 0;">
            <div class="info"><strong>🌐 IP Cliente:</strong> 192.168.105.098</div>
            <div class="info"><strong>🗼 Conectado a:</strong> Fibra Optica VLAN700</div>
            <div class="info"><strong>📦 Equipo:</strong> Onu Huawei EG-8141A5 Wi-Fi</div>
            <div class="info"><strong>💰 Plan:</strong> $16000.0</div>
            <div class="info"><strong>📡 Caja:</strong> T03 | F25 | C06 | P1</div>
        </div>
        <div class="trabajo-container"></div>
        <div class="botones">
            <button class="btn btn-completar" onclick="mostrarFormulario('00036521')">✅ Marcar como Realizado</button>
        </div>
        <div class="form-trabajo" id="form-00036521">
            <input type="text" placeholder="Tu nombre" id="tecnico-00036521">
            <textarea placeholder="Describe el trabajo realizado..." rows="3" id="descripcion-00036521"></textarea>
            <button class="btn btn-completar btn-small" onclick="guardarTrabajo('00036521')">Guardar</button>
            <button class="btn btn-pendiente btn-small" onclick="ocultarFormulario('00036521')">Cancelar</button>
        </div>
    </div>

    <div class="reclamo" data-orden="00036523" style="border-left-color: #4caf50;">
        <div class="titulo">
            Orden: 00036523
            <span class="estado-badge estado-pendiente">Pendiente</span>
        </div>
        <div class="info"><strong>📅 Fecha:</strong> 2025-10-24 08:55:37</div>
        <div class="info"><strong>👨‍💼 Operador:</strong> Alejandra</div>
        <div class="info"><strong>👤 Cliente:</strong> BERNTZ OSVALDO</div>
        <div class="direccion"><strong>📍 Dirección:</strong> ZAPIOLA 609</div>
        <div class="telefono">📞 02395-15422601</div>
        <div class="problema"><strong>🔧 Problema:</strong> Sin Conexion</div>
        <div class="info"><strong>📝 Detalle:</strong> SIN CONEXION</div>
        <div class="info"><strong>📋 Observaciones:</strong> Sin observaciones</div>
        <div style="background-color: #e3f2fd; padding: 10px; border-radius: 4px; margin: 8px 0;">
            <div class="info"><strong>🌐 IP Cliente:</strong> 192.168.106.215</div>
            <div class="info"><strong>🗼 Conectado a:</strong> Fibra Optica VLAN700</div>
            <div class="info"><strong>📦 Equipo:</strong> Onu Huawei HG-8245H5 Wi-Fi</div>
            <div class="info"><strong>💰 Plan:</strong> $16000.0</div>
            <div class="info"><strong>📡 Caja:</strong> T03 | F25 | C07 | P2</div>
        </div>
        <div class="trabajo-container"></div>
        <div class="botones">
            <button class="btn btn-completar" onclick="mostrarFormulario('00036523')">✅ Marcar como Realizado</button>
        </div>
        <div class="form-trabajo" id="form-00036523">
            <input type="text" placeholder="Tu nombre" id="tecnico-00036523">
            <textarea placeholder="Describe el trabajo realizado..." rows="3" id="descripcion-00036523"></textarea>
            <button class="btn btn-completar btn-small" onclick="guardarTrabajo('00036523')">Guardar</button>
            <button class="btn btn-pendiente btn-small" onclick="ocultarFormulario('00036523')">Cancelar</button>
        </div>
    </div>

    <div class="reclamo" data-orden="00036524" style="border-left-color: #4caf50;">
        <div class="titulo">
            Orden: 00036524
            <span class="estado-badge estado-pendiente">Pendiente</span>
        </div>
        <div class="info"><strong>📅 Fecha:</strong> 2025-10-24 10:40:40</div>
        <div class="info"><strong>👨‍💼 Operador:</strong> Cintia</div>
        <div class="info"><strong>👤 Cliente:</strong> ALONSO GERMAN CRUZ</div>
        <div class="direccion"><strong>📍 Dirección:</strong> BARRIO C. ARROYO CASA 59</div>
        <div class="telefono">📞 02396-1562-6217</div>
        <div class="problema"><strong>🔧 Problema:</strong> Cortes aplicaciones TV</div>
        <div class="info"><strong>📝 Detalle:</strong> CORTES APLICACIONES TV</div>
        <div class="info"><strong>📋 Observaciones:</strong> Sin observaciones</div>
        <div style="background-color: #e3f2fd; padding: 10px; border-radius: 4px; margin: 8px 0;">
            <div class="info"><strong>🌐 IP Cliente:</strong> 192.168.108.169</div>
            <div class="info"><strong>🗼 Conectado a:</strong> Fibra Optica VLAN700</div>
            <div class="info"><strong>📦 Equipo:</strong> Onu Huawei HG-8145V5 Wi-Fi Dual Band</div>
            <div class="info"><strong>💰 Plan:</strong> $18000.0</div>
            <div class="info"><strong>📡 Caja:</strong> T01 | F16 | C08 | P3</div>
        </div>
        <div class="trabajo-container"></div>
        <div class="botones">
            <button class="btn btn-completar" onclick="mostrarFormulario('00036524')">✅ Marcar como Realizado</button>
        </div>
        <div class="form-trabajo" id="form-00036524">
            <input type="text" placeholder="Tu nombre" id="tecnico-00036524">
            <textarea placeholder="Describe el trabajo realizado..." rows="3" id="descripcion-00036524"></textarea>
            <button class="btn btn-completar btn-small" onclick="guardarTrabajo('00036524')">Guardar</button>
            <button class="btn btn-pendiente btn-small" onclick="ocultarFormulario('00036524')">Cancelar</button>
        </div>
    </div>

    <div class="reclamo" data-orden="00036525" style="border-left-color: #4caf50;">
        <div class="titulo">
            Orden: 00036525
            <span class="estado-badge estado-pendiente">Pendiente</span>
        </div>
        <div class="info"><strong>📅 Fecha:</strong> 2025-10-24 11:17:36</div>
        <div class="info"><strong>👨‍💼 Operador:</strong> Cintia</div>
        <div class="info"><strong>👤 Cliente:</strong> DIODATO IVANA DEBORA</div>
        <div class="direccion"><strong>📍 Dirección:</strong> LAS HERAS 188</div>
        <div class="telefono">📞 02395-1546-7243</div>
        <div class="problema"><strong>🔧 Problema:</strong> Otros Motivos</div>
        <div class="info"><strong>📝 Detalle:</strong> TIENE MICRO CORTES EN PAGINAS NORMALES , O CUANDO TRABAJA REMOTO.</div>
        <div class="info"><strong>📋 Observaciones:</strong> Sin observaciones</div>
        <div style="background-color: #e3f2fd; padding: 10px; border-radius: 4px; margin: 8px 0;">
            <div class="info"><strong>🌐 IP Cliente:</strong> 192.168.101.046</div>
            <div class="info"><strong>🗼 Conectado a:</strong> Fibra Optica VLAN700</div>
            <div class="info"><strong>📦 Equipo:</strong> Onu Huawei HG-8546M Wi-Fi</div>
            <div class="info"><strong>💰 Plan:</strong> $16000.0</div>
            <div class="info"><strong>📡 Caja:</strong> T01 | F37 | C05 | P1</div>
        </div>
        <div class="trabajo-container"></div>
        <div class="botones">
            <button class="btn btn-completar" onclick="mostrarFormulario('00036525')">✅ Marcar como Realizado</button>
        </div>
        <div class="form-trabajo" id="form-00036525">
            <input type="text" placeholder="Tu nombre" id="tecnico-00036525">
            <textarea placeholder="Describe el trabajo realizado..." rows="3" id="descripcion-00036525"></textarea>
            <button class="btn btn-completar btn-small" onclick="guardarTrabajo('00036525')">Guardar</button>
            <button class="btn btn-pendiente btn-small" onclick="ocultarFormulario('00036525')">Cancelar</button>
        </div>
    </div>

    <div class="footer">
        <p>Sistema automático de monitoreo de reclamos | Se actualiza automáticamente</p>
        <p>Los trabajos realizados se guardan en GitHub y son visibles para todo el equipo</p>
    </div>

    <script>
        // Token ofuscado
        const _tk = ['Z2hwX3BRTmw=','TXJRbzNldWc=','RjNUQ1JPdmE=','ZDVpT2tlM2U=','b2gwakdwWmQ='];
        const REPO_OWNER = 'marianogemelli1999';
        const REPO_NAME = 'marianogemelli1999.github-io';
        const FILE_PATH = 'trabajos.json';
        
        function _dt() {
            return _tk.map(p => atob(p)).join('');
        }

        window.addEventListener('load', cargarTrabajos);

        function mostrarFormulario(orden) {
            document.getElementById('form-' + orden).classList.add('visible');
        }

        function ocultarFormulario(orden) {
            document.getElementById('form-' + orden).classList.remove('visible');
        }

        async function obtenerTrabajos() {
            try {
                const url = `https://api.github.com/repos/${REPO_OWNER}/${REPO_NAME}/contents/${FILE_PATH}`;
                const response = await fetch(url, {
                    headers: {
                        'Authorization': `token ${_dt()}`,
                        'Accept': 'application/vnd.github.v3+json'
                    }
                });

                if (response.status === 404) {
                    return { trabajos: {}, sha: null };
                }

                if (response.ok) {
                    const data = await response.json();
                    const contenido = atob(data.content);
                    const trabajos = JSON.parse(contenido);
                    return { trabajos: trabajos, sha: data.sha };
                }

                return { trabajos: {}, sha: null };
            } catch (error) {
                console.error('Error al obtener trabajos:', error);
                return { trabajos: {}, sha: null };
            }
        }

        async function guardarTrabajos(trabajos, sha) {
            try {
                const url = `https://api.github.com/repos/${REPO_OWNER}/${REPO_NAME}/contents/${FILE_PATH}`;
                const contenidoBase64 = btoa(unescape(encodeURIComponent(JSON.stringify(trabajos, null, 2))));

                const data = {
                    message: '🔧 Actualización de trabajos realizados',
                    content: contenidoBase64
                };

                if (sha) {
                    data.sha = sha;
                }

                const response = await fetch(url, {
                    method: 'PUT',
                    headers: {
                        'Authorization': `token ${_dt()}`,
                        'Accept': 'application/vnd.github.v3+json',
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(data)
                });

                return response.ok;
            } catch (error) {
                console.error('Error al guardar trabajos:', error);
                return false;
            }
        }

        async function guardarTrabajo(orden) {
            const tecnico = document.getElementById('tecnico-' + orden).value.trim();
            const descripcion = document.getElementById('descripcion-' + orden).value.trim();
            
            if (!tecnico || !descripcion) {
                alert('Por favor completa tu nombre y la descripción del trabajo');
                return;
            }

            const botonGuardar = event.target;
            botonGuardar.disabled = true;
            botonGuardar.textContent = 'Guardando...';

            try {
                const { trabajos, sha } = await obtenerTrabajos();

                trabajos[orden] = {
                    tecnico: tecnico,
                    descripcion: descripcion,
                    fecha: new Date().toLocaleString('es-AR')
                };

                const exito = await guardarTrabajos(trabajos, sha);

                if (exito) {
                    mostrarTrabajo(orden, trabajos[orden]);
                    ocultarFormulario(orden);
                    document.getElementById('tecnico-' + orden).value = '';
                    document.getElementById('descripcion-' + orden).value = '';
                    actualizarEstado(orden, true);
                    alert('✅ Trabajo guardado exitosamente');
                } else {
                    throw new Error('No se pudo guardar');
                }
            } catch (error) {
                console.error('Error al guardar:', error);
                alert('❌ Error al guardar el trabajo. Intenta de nuevo.');
            } finally {
                botonGuardar.disabled = false;
                botonGuardar.textContent = 'Guardar';
            }
        }

        function mostrarTrabajo(orden, trabajo) {
            const container = document.querySelector(`[data-orden="${orden}"] .trabajo-container`);
            container.innerHTML = `
                <div class="trabajo-realizado">
                    <strong>✅ Trabajo Realizado</strong><br>
                    <strong>👤 Técnico:</strong> ${trabajo.tecnico}<br>
                    <strong>📅 Fecha:</strong> ${trabajo.fecha}<br>
                    <strong>📝 Descripción:</strong> ${trabajo.descripcion}
                </div>
            `;
        }

        function actualizarEstado(orden, completado) {
            const reclamo = document.querySelector(`[data-orden="${orden}"]`);
            const badge = reclamo.querySelector('.estado-badge');
            const botonContainer = reclamo.querySelector('.botones');
            
            if (completado) {
                reclamo.classList.add('completado');
                badge.textContent = 'Completado';
                badge.classList.remove('estado-pendiente');
                badge.classList.add('estado-completado');
                botonContainer.innerHTML = `
                    <button class="btn btn-pendiente" onclick="marcarPendiente('${orden}')">↩️ Volver a Pendiente</button>
                `;
            } else {
                reclamo.classList.remove('completado');
                badge.textContent = 'Pendiente';
                badge.classList.remove('estado-completado');
                badge.classList.add('estado-pendiente');
                botonContainer.innerHTML = `
                    <button class="btn btn-completar" onclick="mostrarFormulario('${orden}')">✅ Marcar como Realizado</button>
                `;
            }
            actualizarContador();
        }

        async function marcarPendiente(orden) {
            const confirmar = confirm('¿Seguro que quieres volver a marcar este reclamo como pendiente?');
            if (!confirmar) return;

            try {
                const { trabajos, sha } = await obtenerTrabajos();
                delete trabajos[orden];

                const exito = await guardarTrabajos(trabajos, sha);
                
                if (exito) {
                    const container = document.querySelector(`[data-orden="${orden}"] .trabajo-container`);
                    container.innerHTML = '';
                    actualizarEstado(orden, false);
                    alert('✅ Reclamo marcado como pendiente');
                }
            } catch (error) {
                console.error('Error al marcar pendiente:', error);
                alert('❌ Error al actualizar. Intenta de nuevo.');
            }
        }

        async function cargarTrabajos() {
            const ordenesActuales = Array.from(document.querySelectorAll('[data-orden]'))
                .map(el => el.getAttribute('data-orden'));
            
            console.log('📋 Órdenes actuales:', ordenesActuales);

            try {
                const { trabajos, sha } = await obtenerTrabajos();
                console.log('💾 Trabajos guardados:', trabajos);

                let trabajosActualizados = { ...trabajos };
                let necesitaLimpieza = false;

                for (const orden in trabajos) {
                    if (!ordenesActuales.includes(orden)) {
                        console.log(`🗑️ Eliminando trabajo de orden antigua: ${orden}`);
                        delete trabajosActualizados[orden];
                        necesitaLimpieza = true;
                    }
                }

                if (necesitaLimpieza) {
                    await guardarTrabajos(trabajosActualizados, sha);
                }

                for (const orden in trabajosActualizados) {
                    if (ordenesActuales.includes(orden)) {
                        mostrarTrabajo(orden, trabajosActualizados[orden]);
                        actualizarEstado(orden, true);
                    }
                }

                actualizarContador();
            } catch (error) {
                console.error('Error al cargar trabajos:', error);
            }
        }

        function actualizarContador() {
            const totalReclamos = document.querySelectorAll('.reclamo').length;
            const completados = document.querySelectorAll('.reclamo.completado').length;
            const pendientes = totalReclamos - completados;
            document.getElementById('totalPendientes').textContent = pendientes;
        }
    </script>
</body>
</html>